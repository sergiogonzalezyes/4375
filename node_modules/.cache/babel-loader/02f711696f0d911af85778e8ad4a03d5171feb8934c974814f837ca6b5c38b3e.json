{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n// store/app.js\nimport router from '@/router';\nexport default {\n  namespaced: true,\n  // ensure the module is namespaced\n  state: {\n    isAuthenticated: false,\n    username: '',\n    role: '',\n    logoutTimer: null\n  },\n  mutations: {\n    setAuthenticated(state, isAuthenticated) {\n      state.isAuthenticated = isAuthenticated;\n    },\n    setUsername(state, username) {\n      state.username = username;\n    },\n    setRole(state, role) {\n      state.role = role;\n    },\n    setLogoutTimer(state, timer) {\n      state.logoutTimer = timer;\n    }\n  },\n  actions: {\n    login({\n      commit,\n      dispatch\n    }, {\n      username,\n      password\n    }) {\n      // login logic...\n      // ...\n      // Set the timer to log out after 2 minutes\n      const logoutTimer = setTimeout(() => {\n        commit('setLogoutTimer', null);\n        dispatch('logout');\n      }, 2 * 60 * 1000); // 2 minutes\n      commit('setLogoutTimer', logoutTimer);\n      router.push('/dashboard');\n    },\n    logout({\n      commit,\n      state\n    }) {\n      commit('setAuthenticated', false);\n      commit('setUsername', '');\n      commit('setRole', '');\n      localStorage.removeItem('userIsAuthenticated');\n\n      // Clear the logout timer if it's set\n      const logoutTimer = state.logoutTimer;\n      if (logoutTimer) {\n        clearTimeout(logoutTimer);\n        commit('setLogoutTimer', null);\n      }\n      router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["router","namespaced","state","isAuthenticated","username","role","logoutTimer","mutations","setAuthenticated","setUsername","setRole","setLogoutTimer","timer","actions","login","commit","dispatch","password","setTimeout","push","logout","localStorage","removeItem","clearTimeout"],"sources":["/Users/sergiogonzalez/Desktop/test/frontend/src/store/app.js"],"sourcesContent":["// store/app.js\nimport router from '@/router';\n\nexport default {\n  namespaced: true, // ensure the module is namespaced\n  state: {\n    isAuthenticated: false,\n    username: '',\n    role: '',\n    logoutTimer: null,\n  },\n  mutations: {\n    setAuthenticated(state, isAuthenticated) {\n      state.isAuthenticated = isAuthenticated;\n    },\n    setUsername(state, username) {\n      state.username = username;\n    },\n    setRole(state, role) {\n      state.role = role;\n    },\n    setLogoutTimer(state, timer) {\n      state.logoutTimer = timer;\n    },\n  },\n  actions: {\n    login({ commit, dispatch }, { username, password }) {\n      // login logic...\n      // ...\n      // Set the timer to log out after 2 minutes\n      const logoutTimer = setTimeout(() => {\n        commit('setLogoutTimer', null);\n        dispatch('logout');\n      }, 2 * 60 * 1000); // 2 minutes\n      commit('setLogoutTimer', logoutTimer);\n      router.push('/dashboard');\n    },\n    logout({ commit, state }) {\n      commit('setAuthenticated', false);\n      commit('setUsername', '');\n      commit('setRole', '');\n      localStorage.removeItem('userIsAuthenticated');\n  \n      // Clear the logout timer if it's set\n      const logoutTimer = state.logoutTimer;\n      if (logoutTimer) {\n        clearTimeout(logoutTimer);\n        commit('setLogoutTimer', null);\n      }\n  \n      router.push('/login');\n    },\n  },\n};\n"],"mappings":";AAAA;AACA,OAAOA,MAAM,MAAM,UAAU;AAE7B,eAAe;EACbC,UAAU,EAAE,IAAI;EAAE;EAClBC,KAAK,EAAE;IACLC,eAAe,EAAE,KAAK;IACtBC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE,EAAE;IACRC,WAAW,EAAE;EACf,CAAC;EACDC,SAAS,EAAE;IACTC,gBAAgBA,CAACN,KAAK,EAAEC,eAAe,EAAE;MACvCD,KAAK,CAACC,eAAe,GAAGA,eAAe;IACzC,CAAC;IACDM,WAAWA,CAACP,KAAK,EAAEE,QAAQ,EAAE;MAC3BF,KAAK,CAACE,QAAQ,GAAGA,QAAQ;IAC3B,CAAC;IACDM,OAAOA,CAACR,KAAK,EAAEG,IAAI,EAAE;MACnBH,KAAK,CAACG,IAAI,GAAGA,IAAI;IACnB,CAAC;IACDM,cAAcA,CAACT,KAAK,EAAEU,KAAK,EAAE;MAC3BV,KAAK,CAACI,WAAW,GAAGM,KAAK;IAC3B;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAKA,CAAC;MAAEC,MAAM;MAAEC;IAAS,CAAC,EAAE;MAAEZ,QAAQ;MAAEa;IAAS,CAAC,EAAE;MAClD;MACA;MACA;MACA,MAAMX,WAAW,GAAGY,UAAU,CAAC,MAAM;QACnCH,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC;QAC9BC,QAAQ,CAAC,QAAQ,CAAC;MACpB,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;MACnBD,MAAM,CAAC,gBAAgB,EAAET,WAAW,CAAC;MACrCN,MAAM,CAACmB,IAAI,CAAC,YAAY,CAAC;IAC3B,CAAC;IACDC,MAAMA,CAAC;MAAEL,MAAM;MAAEb;IAAM,CAAC,EAAE;MACxBa,MAAM,CAAC,kBAAkB,EAAE,KAAK,CAAC;MACjCA,MAAM,CAAC,aAAa,EAAE,EAAE,CAAC;MACzBA,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC;MACrBM,YAAY,CAACC,UAAU,CAAC,qBAAqB,CAAC;;MAE9C;MACA,MAAMhB,WAAW,GAAGJ,KAAK,CAACI,WAAW;MACrC,IAAIA,WAAW,EAAE;QACfiB,YAAY,CAACjB,WAAW,CAAC;QACzBS,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC;MAChC;MAEAf,MAAM,CAACmB,IAAI,CAAC,QAAQ,CAAC;IACvB;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}